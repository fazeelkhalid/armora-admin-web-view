<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Vulnerability;
use App\Models\Notification;
class VulnerabilityController extends Controller
{
    
    public function index()
    {
        $user = auth()->user();
        $vulnerabilities = Vulnerability::allVulnerability();

        return view('admin.vulnerabilities', ['vulnerabilities' => $vulnerabilities]);
    }

    

    public static function reportVulnerability($id){
        $id = 'sr_' . $id;
        $vulnerabilities = Vulnerability::allDetailsBYReportID($id);
        
        return view('admin.vulnerabilities', ['vulnerabilities' => $vulnerabilities]);
    }
    
    public function delete($id)
    {
        $id = 'vu_'.$id;
        return Vulnerability::deleteVulnerability($id);
    }

    public function vulnerabilityDetail($id){
        $id = 'vu_'.$id;
        return Vulnerability::allDetailsvulnerabilityByID($id);
    }
}